#!/bin/bash

declare -A rusEng=(
    ["ё"]="\`"
    ["1"]="1"
    ["2"]="2"
    ["3"]="3"
    ["4"]="4"
    ["5"]="5"
    ["6"]="6"
    ["7"]="7"
    ["8"]="8"
    ["9"]="9"
    ["0"]="0"
    ["-"]="-"
    ["="]="="
    ["й"]="q"
    ["ц"]="w"
    ["у"]="e"
    ["к"]="r"
    ["е"]="t"
    ["н"]="y"
    ["г"]="u"
    ["ш"]="i"
    ["щ"]="o"
    ["з"]="p"
    ["х"]="["
    ["ъ"]="]"
    ["ф"]="a"
    ["ы"]="s"
    ["в"]="d"
    ["а"]="f"
    ["п"]="g"
    ["р"]="h"
    ["о"]="j"
    ["л"]="k"
    ["д"]="l"
    ["ж"]=";"
    ["э"]="'"
    ["я"]="z"
    ["ч"]="x"
    ["с"]="c"
    ["м"]="v"
    ["и"]="b"
    ["т"]="n"
    ["ь"]="m"
    ["б"]=","
    ["ю"]="."
    ["Ё"]="~"
    ["!"]="!"
    ["\""]="@"
    ["№"]="#"
    [";"]="\$"
    ["%"]="%"
    [":"]="^"
    ["?"]="&"
    ["*"]="*"
    ["("]="("
    [")"]=")"
    ["_"]="_"
    ["+"]="+"
    ["Й"]="Q"
    ["Ц"]="W"
    ["У"]="E"
    ["К"]="R"
    ["Е"]="T"
    ["Н"]="Y"
    ["Г"]="U"
    ["Ш"]="I"
    ["Щ"]="O"
    ["З"]="P"
    ["Х"]="{"
    ["Ъ"]="}"
    ["/"]="|"
    ["Ф"]="A"
    ["Ы"]="S"
    ["В"]="D"
    ["А"]="F"
    ["П"]="G"
    ["Р"]="H"
    ["О"]="J"
    ["Л"]="K"
    ["Д"]="L"
    ["Ж"]="\""
    ["Э"]="+"
    ["Я"]="Z"
    ["Ч"]="X"
    ["С"]="C"
    ["М"]="V"
    ["И"]="B"
    ["Т"]="N"
    ["Ь"]="M"
    ["Б"]="<"
    ["Ю"]=">"
    [","]="?"
)

input=$(xclip -o)
res=""
for (( i=0; i<${#input}; i++ ))
do
    c=${input:$i:1}
    if [ -v 'rusEng[$c]' ]; then
        res="${res}${rusEng[$c]}"
    else
        res="${res}${c}"
    fi
done
printf $res | xclip -selection clipboard -i
